{"ast":null,"code":"var _jsxFileName = \"/Users/NI017/Downloads/project1/src/App.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from \"react\";\nimport { ThemeProvider, CssBaseline, Box, Button, Typography } from \"@mui/material\";\nimport { DndProvider } from \"react-dnd\";\nimport { Tree, MultiBackend, getBackendOptions } from \"@minoru/react-dnd-treeview\";\nimport { CustomNode } from \"./CustomNode\";\nimport { CustomDragPreview } from \"./CustomDragPreview\";\nimport { theme } from \"./theme\";\nimport styles from \"./App.module.css\";\nimport initialData from \"./sample_data.json\";\nimport { saveTree } from \"./api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [treeData, setTreeData] = useState(initialData);\n  const [addingToParent, setAddingToParent] = useState(null);\n  const [highlightedNode, setHighlightedNode] = useState(null);\n  const treeRef = useRef(null);\n  const handleDrop = newTree => setTreeData(newTree);\n  const handleSaveAll = async () => {\n    try {\n      await saveTree(treeData);\n      // You can add a success notification here, e.g., using a snackbar.\n      alert(\"Tree structure saved successfully!\");\n    } catch (error) {\n      // You can add an error notification here.\n      alert(\"Failed to save tree structure.\");\n      console.error(error);\n    }\n  };\n  const handleStartAdd = parentId => {\n    var _treeRef$current;\n    setAddingToParent(parentId);\n    (_treeRef$current = treeRef.current) === null || _treeRef$current === void 0 ? void 0 : _treeRef$current.open(parentId);\n  };\n  const handleCancelAdd = () => {\n    setAddingToParent(null);\n  };\n  const handleAddNode = (parentId, text) => {\n    const newNode = {\n      id: Date.now(),\n      // In a real app, use a more robust ID generation.\n      parent: parentId,\n      text,\n      droppable: true\n    };\n    setTreeData([...treeData, newNode]);\n    setAddingToParent(null);\n\n    // Highlight the new node briefly\n    setHighlightedNode(newNode.id);\n    setTimeout(() => {\n      setHighlightedNode(null);\n    }, 2000); // Highlight for 2 seconds\n  };\n  return /*#__PURE__*/_jsxDEV(ThemeProvider, {\n    theme: theme,\n    children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DndProvider, {\n      backend: MultiBackend,\n      options: getBackendOptions(),\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        className: styles.app,\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          className: styles.header,\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            className: styles.headerTitle,\n            children: \"Hierarchy tree\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            className: styles.headerControls,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              className: styles.nodeCountLabel,\n              children: \"Groups created:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              className: styles.nodeCount,\n              children: treeData.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          className: styles.treeContainer,\n          children: /*#__PURE__*/_jsxDEV(Tree, {\n            ref: treeRef,\n            tree: treeData,\n            rootId: 0,\n            initialOpen: true,\n            onDrop: handleDrop,\n            classes: {\n              root: styles.treeRoot,\n              draggingSource: styles.draggingSource,\n              dropTarget: styles.dropTarget\n            },\n            render: (node, _ref) => {\n              let {\n                depth,\n                isOpen,\n                onToggle\n              } = _ref;\n              const children = treeData.filter(n => n.parent === node.parent);\n              const isLastChild = children[children.length - 1].id === node.id;\n              return /*#__PURE__*/_jsxDEV(CustomNode, {\n                node: node,\n                depth: depth,\n                isOpen: isOpen,\n                onToggle: onToggle,\n                isAdding: addingToParent === node.id,\n                onStartAdd: handleStartAdd,\n                onAdd: handleAddNode,\n                onCancelAdd: handleCancelAdd,\n                isHighlighted: highlightedNode === node.id,\n                isLastChild: isLastChild\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 19\n              }, this);\n            },\n            dragPreviewRender: monitorProps => /*#__PURE__*/_jsxDEV(CustomDragPreview, {\n              monitorProps: monitorProps\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          className: styles.footer,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            onClick: handleSaveAll,\n            children: \"Save All\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"DG58F4Huez8hHV43TBq76GZ1tJs=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useRef","ThemeProvider","CssBaseline","Box","Button","Typography","DndProvider","Tree","MultiBackend","getBackendOptions","CustomNode","CustomDragPreview","theme","styles","initialData","saveTree","jsxDEV","_jsxDEV","App","_s","treeData","setTreeData","addingToParent","setAddingToParent","highlightedNode","setHighlightedNode","treeRef","handleDrop","newTree","handleSaveAll","alert","error","console","handleStartAdd","parentId","_treeRef$current","current","open","handleCancelAdd","handleAddNode","text","newNode","id","Date","now","parent","droppable","setTimeout","children","fileName","_jsxFileName","lineNumber","columnNumber","backend","options","className","app","header","variant","headerTitle","headerControls","nodeCountLabel","nodeCount","length","treeContainer","ref","tree","rootId","initialOpen","onDrop","classes","root","treeRoot","draggingSource","dropTarget","render","node","_ref","depth","isOpen","onToggle","filter","n","isLastChild","isAdding","onStartAdd","onAdd","onCancelAdd","isHighlighted","dragPreviewRender","monitorProps","footer","onClick","_c","$RefreshReg$"],"sources":["/Users/NI017/Downloads/project1/src/App.jsx"],"sourcesContent":["import React, { useState, useRef } from \"react\";\nimport {\n  ThemeProvider,\n  CssBaseline,\n  Box,\n  Button,\n  Typography,\n} from \"@mui/material\";\nimport { DndProvider } from \"react-dnd\";\nimport {\n  Tree,\n  MultiBackend,\n  getBackendOptions,\n} from \"@minoru/react-dnd-treeview\";\nimport { CustomNode } from \"./CustomNode\";\nimport { CustomDragPreview } from \"./CustomDragPreview\";\nimport { theme } from \"./theme\";\nimport styles from \"./App.module.css\";\nimport initialData from \"./sample_data.json\";\nimport { saveTree } from \"./api\";\n\nfunction App() {\n  const [treeData, setTreeData] = useState(initialData);\n  const [addingToParent, setAddingToParent] = useState(null);\n  const [highlightedNode, setHighlightedNode] = useState(null);\n  const treeRef = useRef(null);\n\n  const handleDrop = (newTree) => setTreeData(newTree);\n\n  const handleSaveAll = async () => {\n    try {\n      await saveTree(treeData);\n      // You can add a success notification here, e.g., using a snackbar.\n      alert(\"Tree structure saved successfully!\");\n    } catch (error) {\n      // You can add an error notification here.\n      alert(\"Failed to save tree structure.\");\n      console.error(error);\n    }\n  };\n\n  const handleStartAdd = (parentId) => {\n    setAddingToParent(parentId);\n    treeRef.current?.open(parentId);\n  };\n\n  const handleCancelAdd = () => {\n    setAddingToParent(null);\n  };\n\n  const handleAddNode = (parentId, text) => {\n    const newNode = {\n      id: Date.now(), // In a real app, use a more robust ID generation.\n      parent: parentId,\n      text,\n      droppable: true,\n    };\n\n    setTreeData([...treeData, newNode]);\n    setAddingToParent(null);\n\n    // Highlight the new node briefly\n    setHighlightedNode(newNode.id);\n    setTimeout(() => {\n      setHighlightedNode(null);\n    }, 2000); // Highlight for 2 seconds\n  };\n\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <DndProvider backend={MultiBackend} options={getBackendOptions()}>\n        <Box className={styles.app}>\n          <Box className={styles.header}>\n            <Typography variant=\"h6\" className={styles.headerTitle}>\n              Hierarchy tree\n            </Typography>\n            <Box className={styles.headerControls}>\n              <Typography variant=\"body2\" className={styles.nodeCountLabel}>\n                Groups created:\n              </Typography>\n              <Typography variant=\"body2\" className={styles.nodeCount}>\n                {treeData.length}\n              </Typography>\n            </Box>\n          </Box>\n          <Box className={styles.treeContainer}>\n            <Tree\n              ref={treeRef}\n              tree={treeData}\n              rootId={0}\n              initialOpen\n              onDrop={handleDrop}\n              classes={{\n                root: styles.treeRoot,\n                draggingSource: styles.draggingSource,\n                dropTarget: styles.dropTarget,\n              }}\n              render={(node, { depth, isOpen, onToggle }) => {\n                const children = treeData.filter((n) => n.parent === node.parent);\n                const isLastChild = children[children.length - 1].id === node.id;\n\n                return (\n                  <CustomNode\n                    node={node}\n                    depth={depth}\n                    isOpen={isOpen}\n                    onToggle={onToggle}\n                    isAdding={addingToParent === node.id}\n                    onStartAdd={handleStartAdd}\n                    onAdd={handleAddNode}\n                    onCancelAdd={handleCancelAdd}\n                    isHighlighted={highlightedNode === node.id}\n                    isLastChild={isLastChild}\n                  />\n                );\n              }}\n              dragPreviewRender={(monitorProps) => (\n                <CustomDragPreview monitorProps={monitorProps} />\n              )}\n            />\n          </Box>\n          <Box className={styles.footer}>\n            <Button variant=\"contained\" onClick={handleSaveAll}>\n              Save All\n            </Button>\n          </Box>\n        </Box>\n      </DndProvider>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}